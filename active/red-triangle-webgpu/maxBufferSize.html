<script type="module">
  const adapter = await navigator.gpu.requestAdapter();
  const device = await adapter.requestDevice();
{
  const maxBufferSize = device.limits.maxBufferSize;
  const gpuWriteBuffer = device.createBuffer({
    size: maxBufferSize + 1,
    usage: GPUBufferUsage.MAP_WRITE | GPUBufferUsage.COPY_SRC,
  });

  device.queue.submit([]);
}
{
  const maxBufferSize = adapter.limits.maxBufferSize;
  const gpuWriteBuffer = device.createBuffer({
    size: maxBufferSize + 1,
    usage: GPUBufferUsage.MAP_WRITE | GPUBufferUsage.COPY_SRC,
  });

  device.queue.submit([]);
}

</script>